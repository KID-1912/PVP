{"version":3,"sources":["webpack:///./src/views/Heros/HeroEdit.vue?27e9","webpack:///src/views/Heros/HeroEdit.vue","webpack:///./src/views/Heros/HeroEdit.vue?0cbb","webpack:///./src/views/Heros/HeroEdit.vue","webpack:///./src/network/item.js","webpack:///./src/network/hero.js","webpack:///./src/network/category.js","webpack:///./src/common/mixin.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","id","attrs","nativeOn","$event","preventDefault","save","model","value","callback","$$v","$set","expression","staticClass","uploadUrl","getAuthHeader","result","url","avatar","banner","_l","item","key","_id","name","staticStyle","scores","on","skills","push","i","res","icon","splice","parter","length","staticRenderFns","component","addItem","params","request","method","data","removeItem","updateItem","getItem","getItems","addHero","removeHero","updateHero","getHero","getHeros","addCategory","removeCategory","updateCategory","getCategories","getCategory","mixinUpload","process","VUE_APP_API_URL","methods","token","sessionStorage","Authorization"],"mappings":"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","file":"js/chunk-22eac45a.aa93d5d2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.id ? '编辑' : '新建')+\"英雄\")]),_c('el-form',{attrs:{\"label-width\":\"120px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('el-tabs',{attrs:{\"type\":\"border-card\",\"value\":\"info\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基本信息\",\"name\":\"info\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(_vm.model.name),callback:function ($$v) {_vm.$set(_vm.model, \"name\", $$v)},expression:\"model.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"称号\"}},[_c('el-input',{model:{value:(_vm.model.title),callback:function ($$v) {_vm.$set(_vm.model, \"title\", $$v)},expression:\"model.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图标\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"headers\":_vm.getAuthHeader(),\"show-file-list\":false,\"on-success\":function (result) { return _vm.$set(_vm.model,'avatar',result.url); }}},[(_vm.model.avatar)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.model.avatar}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"banner\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"headers\":_vm.getAuthHeader(),\"show-file-list\":false,\"on-success\":function (result) { return _vm.$set(_vm.model,'banner',result.url); }}},[(_vm.model.banner)?_c('img',{staticClass:\"banner\",attrs:{\"src\":_vm.model.banner}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"职业\"}},[_c('el-select',{attrs:{\"multiple\":\"\"},model:{value:(_vm.model.categories),callback:function ($$v) {_vm.$set(_vm.model, \"categories\", $$v)},expression:\"model.categories\"}},_vm._l((_vm.categories),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"难度\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.8rem\"},attrs:{\"max\":9,\"show-score\":\"\"},model:{value:(_vm.model.scores.difficult),callback:function ($$v) {_vm.$set(_vm.model.scores, \"difficult\", $$v)},expression:\"model.scores.difficult\"}})],1),_c('el-form-item',{attrs:{\"label\":\"技能\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.8rem\"},attrs:{\"max\":9,\"show-score\":\"\"},model:{value:(_vm.model.scores.skills),callback:function ($$v) {_vm.$set(_vm.model.scores, \"skills\", $$v)},expression:\"model.scores.skills\"}})],1),_c('el-form-item',{attrs:{\"label\":\"攻击\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.8rem\"},attrs:{\"max\":9,\"show-score\":\"\"},model:{value:(_vm.model.scores.attack),callback:function ($$v) {_vm.$set(_vm.model.scores, \"attack\", $$v)},expression:\"model.scores.attack\"}})],1),_c('el-form-item',{attrs:{\"label\":\"生存\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.8rem\"},attrs:{\"max\":9,\"show-score\":\"\"},model:{value:(_vm.model.scores.survive),callback:function ($$v) {_vm.$set(_vm.model.scores, \"survive\", $$v)},expression:\"model.scores.survive\"}})],1),_c('el-form-item',{attrs:{\"label\":\"顺风装备\"}},[_c('el-select',{attrs:{\"multiple-limit\":6,\"multiple\":\"\"},model:{value:(_vm.model.items1),callback:function ($$v) {_vm.$set(_vm.model, \"items1\", $$v)},expression:\"model.items1\"}},_vm._l((_vm.items),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"逆风装备\"}},[_c('el-select',{attrs:{\"multiple-limit\":6,\"multiple\":\"\"},model:{value:(_vm.model.items2),callback:function ($$v) {_vm.$set(_vm.model, \"items2\", $$v)},expression:\"model.items2\"}},_vm._l((_vm.items),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"使用技巧\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":4,\"placeholder\":\"请输入内容\"},model:{value:(_vm.model.usageTips),callback:function ($$v) {_vm.$set(_vm.model, \"usageTips\", $$v)},expression:\"model.usageTips\"}})],1),_c('el-form-item',{attrs:{\"label\":\"对抗技巧\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":4,\"placeholder\":\"请输入内容\"},model:{value:(_vm.model.battleTips),callback:function ($$v) {_vm.$set(_vm.model, \"battleTips\", $$v)},expression:\"model.battleTips\"}})],1),_c('el-form-item',{attrs:{\"label\":\"团战思路\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":4,\"placeholder\":\"请输入内容\"},model:{value:(_vm.model.teamTips),callback:function ($$v) {_vm.$set(_vm.model, \"teamTips\", $$v)},expression:\"model.teamTips\"}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"技能信息\",\"name\":\"skills\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.model.skills.push({})}}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\" 添加技能 \")]),_c('el-row',{staticStyle:{\"flex-wrap\":\"wrap\"},attrs:{\"type\":\"flex\"}},_vm._l((_vm.model.skills),function(item,i){return _c('el-col',{key:i,attrs:{\"md\":12}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(item.name),callback:function ($$v) {_vm.$set(item, \"name\", $$v)},expression:\"item.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图标\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"headers\":_vm.getAuthHeader(),\"show-file-list\":false,\"on-success\":function (res) { return _vm.$set(item,'icon',res.url); }}},[(item.icon)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.icon}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(item.description),callback:function ($$v) {_vm.$set(item, \"description\", $$v)},expression:\"item.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"小提示\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(item.tips),callback:function ($$v) {_vm.$set(item, \"tips\", $$v)},expression:\"item.tips\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.model.skills.splice(i,1)}}},[_vm._v(\"删除\")])],1)],1)}),1)],1),_c('el-tab-pane',{attrs:{\"label\":\"英雄关系\",\"name\":\"related\"}},[_c('h4',[_vm._v(\"最佳搭档\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.model.parter.length<2 && _vm.model.parter.push({})}}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\" 添加英雄 \")]),_c('el-row',{attrs:{\"type\":\"flex\"}},_vm._l((_vm.model.parter),function(item,i){return _c('el-col',{key:i,attrs:{\"md\":12}},[_c('el-form-item',{attrs:{\"label\":\"英雄\"}},[_c('el-select',{attrs:{\"filterable\":\"\"},model:{value:(item.hero),callback:function ($$v) {_vm.$set(item, \"hero\", $$v)},expression:\"item.hero\"}},_vm._l((_vm.heros),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(item.description),callback:function ($$v) {_vm.$set(item, \"description\", $$v)},expression:\"item.description\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.model.parter.splice(i,1)}}},[_vm._v(\"删除\")])],1)],1)}),1)],1)],1),_c('el-form-item',{staticStyle:{\"margin-top\":\"1rem\",\"text-align\":\"center\"},attrs:{\"label-width\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h1>{{id ? '编辑' : '新建'}}英雄</h1>\r\n    <el-form label-width=\"120px\" @submit.native.prevent=\"save()\">\r\n      <el-tabs type=\"border-card\" value=\"info\">\r\n        <el-tab-pane label=\"基本信息\" name=\"info\">\r\n          <el-form-item label=\"名称\">\r\n            <el-input v-model=\"model.name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"称号\">\r\n            <el-input v-model=\"model.title\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"图标\">\r\n            <el-upload\r\n              class=\"avatar-uploader\"\r\n              :action=\"uploadUrl\"\r\n              :headers=\"getAuthHeader()\" \r\n              :show-file-list=\"false\"\r\n              :on-success=\"result => $set(model,'avatar',result.url)\">\r\n              <img v-if=\"model.avatar\" :src=\"model.avatar\" class=\"avatar\">\r\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n          </el-form-item>\r\n          <el-form-item label=\"banner\">\r\n            <el-upload\r\n              class=\"avatar-uploader\"\r\n              :action=\"uploadUrl\"\r\n              :headers=\"getAuthHeader()\" \r\n              :show-file-list=\"false\" \r\n              :on-success=\"result => $set(model,'banner',result.url)\">\r\n              <img v-if=\"model.banner\" :src=\"model.banner\" class=\"banner\">\r\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n          </el-form-item>\r\n          <el-form-item label=\"职业\">\r\n            <el-select v-model=\"model.categories\" multiple>\r\n              <el-option\r\n                v-for=\"item in categories\"\r\n                :key=\"item._id\"\r\n                :label=\"item.name\"\r\n                :value=\"item._id\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"难度\">\r\n            <el-rate \r\n            v-model=\"model.scores.difficult\" \r\n            style=\"margin-top: 0.8rem\"\r\n            :max=\"9\" show-score></el-rate>\r\n          </el-form-item>\r\n          <el-form-item label=\"技能\">\r\n            <el-rate \r\n            v-model=\"model.scores.skills\" \r\n            style=\"margin-top: 0.8rem\"\r\n            :max=\"9\" show-score></el-rate>\r\n          </el-form-item>\r\n          <el-form-item label=\"攻击\">\r\n            <el-rate \r\n            v-model=\"model.scores.attack\" \r\n            style=\"margin-top: 0.8rem\"\r\n            :max=\"9\" show-score></el-rate>\r\n          </el-form-item>\r\n          <el-form-item label=\"生存\">\r\n            <el-rate \r\n            v-model=\"model.scores.survive\" \r\n            style=\"margin-top: 0.8rem\"\r\n            :max=\"9\" show-score></el-rate>\r\n          </el-form-item>\r\n          <el-form-item label=\"顺风装备\">\r\n            <el-select v-model=\"model.items1\" :multiple-limit=\"6\" multiple>\r\n              <el-option\r\n                v-for=\"item in items\"\r\n                :key=\"item._id\"\r\n                :label=\"item.name\"\r\n                :value=\"item._id\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"逆风装备\">\r\n            <el-select v-model=\"model.items2\" :multiple-limit=\"6\" multiple>\r\n              <el-option\r\n                v-for=\"item in items\"\r\n                :key=\"item._id\"\r\n                :label=\"item.name\"\r\n                :value=\"item._id\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"使用技巧\">\r\n            <el-input\r\n              type=\"textarea\"\r\n              :rows=\"4\"\r\n              placeholder=\"请输入内容\"\r\n              v-model=\"model.usageTips\">\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"对抗技巧\">\r\n            <el-input\r\n              type=\"textarea\"\r\n              :rows=\"4\"\r\n              placeholder=\"请输入内容\"\r\n              v-model=\"model.battleTips\">\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"团战思路\">\r\n            <el-input\r\n              type=\"textarea\"\r\n              :rows=\"4\"\r\n              placeholder=\"请输入内容\"\r\n              v-model=\"model.teamTips\">\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"技能信息\" name=\"skills\">\r\n          <el-button type=\"text\" size=\"small\" \r\n          @click=\"model.skills.push({})\">\r\n            <i class=\"el-icon-plus\"></i> 添加技能\r\n          </el-button>\r\n          <el-row type=\"flex\" style=\"flex-wrap: wrap\">\r\n            <el-col :md=\"12\" v-for=\"(item,i) in model.skills\" :key=\"i\">\r\n              <el-form-item label=\"名称\">\r\n                <el-input v-model=\"item.name\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"图标\">\r\n                <el-upload\r\n                  class=\"avatar-uploader\"\r\n                  :action=\"uploadUrl\"\r\n                  :headers=\"getAuthHeader()\" \r\n                  :show-file-list=\"false\"\r\n                  :on-success=\"res => $set(item,'icon',res.url)\">\r\n                  <img v-if=\"item.icon\" :src=\"item.icon\" class=\"avatar\">\r\n                  <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                </el-upload>\r\n              </el-form-item>\r\n              <el-form-item label=\"描述\">\r\n                <el-input type=\"textarea\" v-model=\"item.description\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"小提示\">\r\n                <el-input type=\"textarea\" v-model=\"item.tips\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button\r\n                @click=\"model.skills.splice(i,1)\"\r\n                type=\"danger\" size=\"small\">删除</el-button>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"英雄关系\" name=\"related\">\r\n          <h4>最佳搭档</h4>\r\n          <el-button type=\"text\" size=\"small\" \r\n          @click=\"model.parter.length<2 && model.parter.push({})\">\r\n            <i class=\"el-icon-plus\"></i> 添加英雄\r\n          </el-button>\r\n          <el-row type=\"flex\">\r\n            <el-col :md=\"12\" v-for=\"(item,i) in model.parter\" :key=\"i\">\r\n              <el-form-item label=\"英雄\">\r\n                <el-select v-model=\"item.hero\" filterable>\r\n                  <el-option\r\n                    v-for=\"item in heros\"\r\n                    :key=\"item._id\"\r\n                    :label=\"item.name\"\r\n                    :value=\"item._id\">\r\n                  </el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item label=\"描述\">\r\n                <el-input type=\"textarea\" v-model=\"item.description\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button\r\n                @click=\"model.parter.splice(i,1)\"\r\n                type=\"danger\" size=\"small\">删除</el-button>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n\r\n      <el-form-item style=\"margin-top: 1rem;text-align: center\" label-width=\"0\">\r\n        <el-button type=\"primary\" native-type=\"submit\">提交</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mixinUpload} from 'common/mixin'\r\n  // 请求模块\r\n  import {getCategories} from 'network/category'\r\n  import {getItems} from 'network/item'\r\n  import {addHero,getHero,updateHero,getHeros} from 'network/hero'\r\n\r\n  export default {\r\n    props: {\r\n      id: String\r\n    },\r\n    mixins: [mixinUpload],\r\n    data(){\r\n      return {\r\n        uploadUrl: \"http://localhost:3000/admin/api/upload\",\r\n        categories: [],\r\n        items: [],\r\n        heros: [],\r\n        model: {\r\n          scores: {\r\n            difficult: 0,\r\n            skills: 0,\r\n            attack: 0,\r\n            survive: 0,\r\n          },\r\n          skills: [],\r\n          parter: []\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      async fetch(){\r\n        let result = await getHero(this.id);\r\n        this.model = Object.assign({},this.model,result );\r\n      },\r\n      async save(){\r\n        if(this.id){\r\n          await updateHero(this.id,this.model);\r\n        }else{\r\n          await addHero(this.model);\r\n        }\r\n        this.$message({\r\n          message: '保存成功',\r\n          type: 'success'\r\n        });\r\n        this.id && this.$router.push('/heros/list')\r\n      }\r\n    },\r\n    created(){\r\n      // 请求编辑选项所需的数据\r\n      getCategories().then(result => this.categories = result),\r\n      getItems().then(result => this.items = result)\r\n      getHeros().then(result => this.heros = result)\r\n      this.id && this.fetch();\r\n    }\r\n\r\n\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeroEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeroEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeroEdit.vue?vue&type=template&id=6c5771f4&scoped=true&\"\nimport script from \"./HeroEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./HeroEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c5771f4\",\n  null\n  \n)\n\nexport default component.exports","import {request} from './request'\r\n\r\n\r\n\r\nexport function addItem(params){\r\n  return request({\r\n    url: '/reset/items',\r\n    method: 'post',\r\n    data: params\r\n  })\r\n}\r\n\r\nexport function removeItem(id){\r\n  return request({\r\n    url: `/reset/items/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\nexport function updateItem(id,params){\r\n  return request({\r\n    url: `/reset/items/${id}`,\r\n    method: 'put',\r\n    data: params\r\n  })\r\n}\r\n\r\nexport function getItem(id){\r\n  return request({\r\n    url: `/reset/items/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function getItems(){\r\n  return request({\r\n    url: '/reset/items',\r\n    method: 'get'\r\n  })\r\n}","import {request} from './request'\r\n\r\n\r\n\r\nexport function addHero(params){\r\n  return request({\r\n    url: '/reset/heros',\r\n    method: 'post',\r\n    data: params\r\n  })\r\n}\r\n\r\nexport function removeHero(id){\r\n  return request({\r\n    url: `/reset/heros/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\nexport function updateHero(id,params){\r\n  return request({\r\n    url: `/reset/heros/${id}`,\r\n    method: 'put',\r\n    data: params\r\n  })\r\n}\r\n\r\nexport function getHero(id){\r\n  return request({\r\n    url: `/reset/heros/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function getHeros(){\r\n  return request({\r\n    url: '/reset/heros',\r\n    method: 'get'\r\n  })\r\n}","// 向后端发起的categorys路径请求\r\n\r\nimport {request} from './request.js'\r\n\r\n\r\n\r\nexport function addCategory(params){\r\n  return request({\r\n    url: 'reset/categories',\r\n    method: 'post',\r\n    data: params\r\n  })\r\n}\r\n\r\nexport function removeCategory(id){\r\n  return request({\r\n    url: `reset/categories/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\nexport function updateCategory(id,params){\r\n  return request({\r\n    url: `reset/categories/${id}`,\r\n    method: 'put',\r\n    data: params\r\n  })\r\n}\r\n\r\nexport function getCategories(){\r\n  return request({\r\n    url: 'reset/categories',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function getCategory(id){\r\n  return request({\r\n    url: `reset/categories/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n\r\n","\r\n\r\n\r\n\r\n\r\nexport const mixinUpload = {\r\n  data(){\r\n    return {\r\n      uploadUrl: process.env.VUE_APP_API_URL || \"/admin/api/upload\",\r\n    }\r\n  },\r\n  methods: {\r\n    getAuthHeader(){\r\n      const token = sessionStorage.getItem('token') || '';\r\n      return {\r\n        Authorization: `Basic ${token}`\r\n      }\r\n    }\r\n  }\r\n}"],"sourceRoot":""}