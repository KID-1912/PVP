(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6afc5014"],{"18ef":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return i}));var n=r("1bab");function a(e){return Object(n["a"])({url:"/reset/videos",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/reset/videos/".concat(e),method:"delete"})}function c(e,t){return Object(n["a"])({url:"/reset/videos/".concat(e),method:"put",data:t})}function u(){return Object(n["a"])({url:"/reset/videos",method:"get"})}function i(e){return Object(n["a"])({url:"/reset/videos/".concat(e),method:"get"})}},b050:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return c})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return i}));var n=r("1bab");function a(e){return Object(n["a"])({url:"reset/categories",method:"post",data:e})}function o(e){return Object(n["a"])({url:"reset/categories/".concat(e),method:"delete"})}function c(e,t){return Object(n["a"])({url:"reset/categories/".concat(e),method:"put",data:t})}function u(){return Object(n["a"])({url:"reset/categories",method:"get"})}function i(e){return Object(n["a"])({url:"reset/categories/".concat(e),method:"get"})}},cde7:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v(e._s(e.id?"编辑":"新建")+"视频")]),r("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save()}}},[r("el-form-item",{attrs:{label:"视频分类"}},[r("el-select",{attrs:{placeholder:"视频分类"},model:{value:e.model.category,callback:function(t){e.$set(e.model,"category",t)},expression:"model.category"}},e._l(e.categories,(function(e){return r("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),r("el-form-item",{attrs:{label:"名称"}},[r("el-input",{model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),r("el-form-item",{attrs:{label:"banner"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,headers:e.getAuthHeader(),"show-file-list":!1,"on-success":function(t){return e.$set(e.model,"banner",t.url)}}},[e.model.banner?r("img",{staticClass:"avatar",attrs:{src:e.model.banner}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{label:"链接"}},[r("el-input",{model:{value:e.model.url,callback:function(t){e.$set(e.model,"url",t)},expression:"model.url"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("提交")])],1)],1)],1)},a=[],o=(r("96cf"),r("1da1")),c=r("eecb"),u=r("18ef"),i=r("b050"),s={props:{id:String},mixins:[c["a"]],data:function(){return{categories:[],model:{}}},methods:{fetch:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["b"])(e.id);case 2:e.model=t.sent;case 3:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=5;break}return t.next=3,Object(u["e"])(e.id,e.model);case 3:t.next=7;break;case 5:return t.next=7,Object(u["a"])(e.model);case 7:e.$message({message:"保存成功",type:"success"}),e.id&&e.$router.push("/videos/list");case 9:case"end":return t.stop()}}),t)})))()},queryCategories:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["b"])();case 2:e.categories=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},created:function(){this.id&&this.fetch(),this.queryCategories()}},l=s,d=r("2877"),m=Object(d["a"])(l,n,a,!1,null,"bc50525c",null);t["default"]=m.exports},eecb:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={data:function(){return{uploadUrl:(Object({NODE_ENV:"production",BASE_URL:"/admin/"}).VUE_APP_API_URL||"/admin/api")+"/upload"}},methods:{getAuthHeader:function(){var e=sessionStorage.getItem("token")||"";return{Authorization:"Basic ".concat(e)}}}}}}]);
//# sourceMappingURL=chunk-6afc5014.5c46d81f.js.map