(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17d6fb52"],{"51d6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h4",[e._v(e._s(this.id?"编辑":"新建")+"广告栏")]),n("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save()}}},[n("el-form-item",{attrs:{label:"广告栏名称"}},[n("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.model.items.push({})}}},[n("i",{staticClass:"el-icon-plus"}),e._v(" 添加广告项 ")]),n("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},e._l(e.model.items,(function(t,r){return n("el-col",{key:r,attrs:{md:12}},[n("el-form-item",{attrs:{label:"标题"}},[n("el-input",{model:{value:t.title,callback:function(n){e.$set(t,"title",n)},expression:"item.title"}})],1),n("el-form-item",{attrs:{label:"图片"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{headers:e.getAuthHeader(),action:e.uploadUrl,"show-file-list":!1,"on-success":function(n){return e.$set(t,"image",n.url)}}},[t.image?n("img",{staticClass:"avatar",attrs:{src:t.image}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",{attrs:{label:"链接(URL)"}},[n("el-input",{model:{value:t.url,callback:function(n){e.$set(t,"url",n)},expression:"item.url"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.model.items.splice(r,1)}}},[e._v("删除")])],1)],1)})),1),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("提交")])],1)],1)],1)},a=[],i=(n("96cf"),n("1da1")),s=n("eecb"),u=n("c2be"),c={props:{id:String},mixins:[s["a"]],data:function(){return{model:{items:[]}}},methods:{save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=5;break}return t.next=3,Object(u["e"])(e.id,e.model);case 3:t.next=7;break;case 5:return t.next=7,Object(u["a"])(e.model);case 7:e.$message({type:"success",message:"保存成功!"});case 8:case"end":return t.stop()}}),t)})))()},fetch:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["b"])(e.id);case 2:e.model=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},created:function(){this.id&&this.fetch()}},o=c,l=n("2877"),d=Object(l["a"])(o,r,a,!1,null,null,null);t["default"]=d.exports},c2be:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c}));var r=n("1bab");function a(e){return Object(r["a"])({url:"/reset/ads",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/reset/ads/".concat(e),method:"delete"})}function s(e,t){return Object(r["a"])({url:"/reset/ads/".concat(e),method:"put",data:t})}function u(e){return Object(r["a"])({url:"/reset/ads/".concat(e),method:"get"})}function c(){return Object(r["a"])({url:"/reset/ads",method:"get"})}},eecb:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={data:function(){return{uploadUrl:"http://localhost:3000/admin/api/upload"}},methods:{getAuthHeader:function(){var e=sessionStorage.getItem("token")||"";return{Authorization:"Basic ".concat(e)}}}}}}]);
//# sourceMappingURL=chunk-17d6fb52.9315c95f.js.map